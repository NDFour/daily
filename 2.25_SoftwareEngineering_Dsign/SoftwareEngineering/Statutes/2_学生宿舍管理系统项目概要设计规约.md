# 学生宿舍管理系统项目概要设计规约

### 1. 项目简介

##### 1.1 目的

本文将确定学生宿舍管理系统的概要设计。

##### 1.2 范围

本文将影响学生宿舍管理系统的详细设计、编码等活动。

##### 1.3 参考资料

《学生宿舍管理系统需求规约》

##### 1.4 概述

该文档描述了学生宿舍管理系统的概要设计,编写该文档的目的是为整个系统的实现提供指南。该文档由 3 部分组成:体系结构设计、接口设计和数据结构设计(独立成数据库设计文档)。

### 2. 体系结构设计

##### 2.1 总体结构设计

学生宿舍管理系统采用B/S模式开发，支持PC机和和手机的客户端调用。采用前后端完全分离的三层结构。

整个系统由如下部分组成：
- 表示层：用户对系统的访问门户，主要用于向用户提供界面和访问接口。
- 服务接口层：在设计时，考虑到了系统对外集成的需要，向外界提供一个服务接口层。
- 业务逻辑层：业务逻辑层主要用来实现学生宿舍管理系统的各个功能，它和程序的访问协议无关。
- 数据访问实体层：采用 Sqlite 将数据库中数据进行存储以及高级映射。

##### 2.2 技术体系
整个开发技术栈采用 BootStrap + Django + Python + Sqlite 。

###### 2.2.1 表示层技术
目前 web 开发前后端分离已成为互联网项目开发的业界标准使用方式,前后端分离会为以后的大型分布式架构、弹性计算架构、微服务架构、多端化服务(多种客户端,例如:浏览器,车载终端,安卓,IOS 等等)打下坚实的基础。

###### 2.2.2 ORM 技术
ORM(对象关系映射 Object Relational Mapping)技术是构建数据访问实体层的关键技术。它解决了面向对象与关系数据库存在的互不匹配现象。在我们的系统实现中它主要通过使用描述对象和数据库之间映射的元数据,将 java 程序中的对象自动持久化到关系数据库中。由于我们的系统采用的 java 技术,所以存在下面的一些 ORM 框架可选。

##### 2.3 开发环境
综合上面的分析，我们将学生宿舍管理系统的开发环境归纳如下：
- Python 应用程序开发，以及支持 python 的 Web 应用服务器，我们选用 Django 2.1.1
- 选用 Vim 8.0 作为服务端开发平台。
- 选用 Vim 8.0 作为前端开发平台。
- 选用 Sqlite 作为后台数据库。

##### 2.4 测试环境

学生宿舍管理系统开发完毕后可在如下测试环境下进行测试：

| Python | Django | Vim  | Chrome                             |
| ------ | ------ | ---- | ---------------------------------- |
| 3.7.0  | 2.1.1  | 8.0  | 69.0.3497.100 (正式版本) （64 位） |

### 3. 接口设计

##### 3.1 宿舍分配情况查看

| 接口名  | 接口描述                                                                  |
| ------- | ------------------------------------------------------------------------- |
| index() | 展示系统内已存在的所有宿舍、学生并生成列表，以及宿舍光荣榜列表            |
| dormitory_detail(int dormitory_number) | 展示宿舍基本信息和床位分配，以及宿舍光荣榜列表 |
| student_detail(int stu_number) | 展示学生基本信息，以及宿舍光荣榜列表                   |

##### 3.2 宿舍资料查看

| 接口名 | 接口描述 |
| ------ | -------- |
| dormitory_detail(int dormitory_number) | 展示宿舍基本信息和床位分配，以及宿舍光荣榜列表 |

##### 3.3 宿舍分配

| 接口名 | 接口描述 |
| ------ | -------- |
| dormitoryAssign() | 为宿舍各床位分配学生 |

##### 3.4 宿舍内务管理

| 接口名 | 接口描述 |
| ------ | -------- |
| starDormitory() | 为宿舍内务评分 |

### 4. 界面设计

##### 4.1 主界面

##### 4.2 宿舍资料查看

###### 4.2.1 宿舍基本资料查看

###### 4.2.2 宿舍分配

###### 4.2.3 宿舍内务管理

##### 4.3 学生资料查看

### 5. 数据库设计

##### 5.1 用户管理

###### 5.1.1 学生表(Student)

| 字段名 | 字段类型 | 字段长度 | 字段描述 |
| ------ | -------- | -------- | -------- |
| number | int |   | 学号 |
| name | varchar | 255 | 姓名 |
| classNum | int |  | 班级 |
| gender | int |  | 性别 |

###### 5.1.2 宿舍表(Dormitory)

| 字段名 | 字段类型 | 字段长度 | 字段描述 |
| ------ | -------- | -------- | -------- |
| number | int |  | 宿舍号 |
| stu_1 | Student |  | 床位1 |
| stu_2 | Student |  | 床位2 |
| stu_3 | Student |  | 床位3 |
| stu_4 | Student |  | 床位4 |
| star | int |  | 内务评级 |
| info | varchar | 255 | 简介 |
| gender | int |  | 性别 |

### 6. 流程设计

##### 6.1 获取所有宿舍列表

*插入业务流程图*

##### 6.2 获取所有学生列表

*插入业务流程图*

##### 6.3 获取宿舍光荣榜列表

*插入业务流程图*

##### 6.4 获取宿舍信息

*插入业务流程图*

###### 6.5 获取学生信息

*插入业务流程图*

###### 6.6 修改宿舍信息

*插入业务流程图*



...等等
